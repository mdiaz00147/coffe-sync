(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e52de7ac"],{6711:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isInput?n("div",[n("v-select",{attrs:{loading:e.loading,onChange:function(t){return e.selectItem(t)},options:this.$store.getters.usersSelectList,label:"username",placeholder:"Query to search"}})],1):n("div",[n("b-card",{staticClass:"col-12",attrs:{"no-body":""}},[n("div",{staticClass:"text-center mt-5 mb-5"},[n("h3",{staticClass:"text-center"},[n("i",{staticClass:"icon-mouse icons font-2xl d-block mt-4"}),e._v(" Start typing to filter ")]),n("div",[n("v-select",{attrs:{loading:e.loading,onChange:function(t){return e.selectItem(t)},options:this.$store.getters.usersSelectList,label:"username",placeholder:"Query to search"}})],1)])])],1)},s=[],r=n("b206"),o={name:"users-select",props:{isInput:!1},components:{"v-select":r["a"]},data:function(){return{loading:!1}},methods:{selectItem:function(e){this.$emit("item-selected",e)}}},i=o,l=n("2877"),c=Object(l["a"])(i,a,s,!1,null,null,null);t["a"]=c.exports},"7e3e":function(e,t,n){"use strict";n("b6cc")},8832:function(e,t,n){!function(t,n){e.exports=n()}(0,(function(){return function(e){function t(a){if(n[a])return n[a].exports;var s=n[a]={exports:{},id:a,loaded:!1};return e[a].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var s=n(1),r=a(s);e.exports=r.default},function(e,t,n){n(2);var a=n(6)(n(7),n(8),"data-v-82963a40",null);e.exports=a.exports},function(e,t,n){var a=n(3);"string"==typeof a&&(a=[[e.id,a,""]]),n(5)(a,{}),a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(4)(),t.push([e.id,"a[data-v-82963a40]{cursor:pointer}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},s=0;s<this.length;s++){var r=this[s][0];"number"==typeof r&&(a[r]=!0)}for(s=0;s<t.length;s++){var o=t[s];"number"==typeof o[0]&&a[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(e,t,n){function a(e,t){for(var n=0;n<e.length;n++){var a=e[n],s=d[a.id];if(s){s.refs++;for(var r=0;r<s.parts.length;r++)s.parts[r](a.parts[r]);for(;r<a.parts.length;r++)s.parts.push(l(a.parts[r],t))}else{var o=[];for(r=0;r<a.parts.length;r++)o.push(l(a.parts[r],t));d[a.id]={id:a.id,refs:1,parts:o}}}}function s(e){for(var t=[],n={},a=0;a<e.length;a++){var s=e[a],r=s[0],o=s[1],i=s[2],l=s[3],c={css:o,media:i,sourceMap:l};n[r]?n[r].parts.push(c):t.push(n[r]={id:r,parts:[c]})}return t}function r(e,t){var n=m(),a=h[h.length-1];if("top"===e.insertAt)a?a.nextSibling?n.insertBefore(t,a.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),h.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=h.indexOf(e);t>=0&&h.splice(t,1)}function i(e){var t=document.createElement("style");return t.type="text/css",r(e,t),t}function l(e,t){var n,a,s;if(t.singleton){var r=b++;n=g||(g=i(t)),a=c.bind(null,n,r,!1),s=c.bind(null,n,r,!0)}else n=i(t),a=u.bind(null,n),s=function(){o(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else s()}}function c(e,t,n,a){var s=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=v(t,s);else{var r=document.createTextNode(s),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function u(e,t){var n=t.css,a=t.media,s=t.sourceMap;if(a&&e.setAttribute("media",a),s&&(n+="\n/*# sourceURL="+s.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var d={},p=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},f=p((function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())})),m=p((function(){return document.head||document.getElementsByTagName("head")[0]})),g=null,b=0,h=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=f()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=s(e);return a(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var i=n[o],l=d[i.id];l.refs--,r.push(l)}if(e){var c=s(e);a(c,t)}for(o=0;o<r.length;o++){l=r[o];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete d[l.id]}}}};var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t,n,a){var s,r=e=e||{},o=typeof e.default;"object"!==o&&"function"!==o||(s=e,r=e.default);var i="function"==typeof r?r.options:r;if(t&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns),n&&(i._scopeId=n),a){var l=i.computed||(i.computed={});Object.keys(a).forEach((function(e){var t=a[e];l[e]=function(){return t}}))}return{esModule:s,exports:r,options:i}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{value:{type:Number},pageCount:{type:Number,required:!0},forcePage:{type:Number},clickHandler:{type:Function,default:function(){}},pageRange:{type:Number,default:3},marginPages:{type:Number,default:1},prevText:{type:String,default:"Prev"},nextText:{type:String,default:"Next"},breakViewText:{type:String,default:"â€¦"},containerClass:{type:String},pageClass:{type:String},pageLinkClass:{type:String},prevClass:{type:String},prevLinkClass:{type:String},nextClass:{type:String},nextLinkClass:{type:String},breakViewClass:{type:String},breakViewLinkClass:{type:String},activeClass:{type:String,default:"active"},disabledClass:{type:String,default:"disabled"},noLiSurround:{type:Boolean,default:!1},firstLastButton:{type:Boolean,default:!1},firstButtonText:{type:String,default:"First"},lastButtonText:{type:String,default:"Last"},hidePrevNext:{type:Boolean,default:!1}},beforeUpdate:function(){void 0!==this.forcePage&&this.forcePage!==this.selected&&(this.selected=this.forcePage)},computed:{selected:{get:function(){return this.value||this.innerValue},set:function(e){this.innerValue=e}},pages:function(){var e=this,t={};if(this.pageCount<=this.pageRange)for(var n=0;n<this.pageCount;n++){var a={index:n,content:n+1,selected:n===this.selected-1};t[n]=a}else{for(var s=Math.floor(this.pageRange/2),r=function(n){var a={index:n,content:n+1,selected:n===e.selected-1};t[n]=a},o=function(e){var n={disabled:!0,breakView:!0};t[e]=n},i=0;i<this.marginPages;i++)r(i);var l=0;this.selected-s>0&&(l=this.selected-1-s);var c=l+this.pageRange-1;c>=this.pageCount&&(c=this.pageCount-1,l=c-this.pageRange+1);for(var u=l;u<=c&&u<=this.pageCount-1;u++)r(u);l>this.marginPages&&o(l-1),c+1<this.pageCount-this.marginPages&&o(c+1);for(var d=this.pageCount-1;d>=this.pageCount-this.marginPages;d--)r(d)}return t}},data:function(){return{innerValue:1}},methods:{handlePageSelected:function(e){this.selected!==e&&(this.innerValue=e,this.$emit("input",e),this.clickHandler(e))},prevPage:function(){this.selected<=1||this.handlePageSelected(this.selected-1)},nextPage:function(){this.selected>=this.pageCount||this.handlePageSelected(this.selected+1)},firstPageSelected:function(){return 1===this.selected},lastPageSelected:function(){return this.selected===this.pageCount||0===this.pageCount},selectFirstPage:function(){this.selected<=1||this.handlePageSelected(1)},selectLastPage:function(){this.selected>=this.pageCount||this.handlePageSelected(this.pageCount)}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.noLiSurround?n("div",{class:e.containerClass},[e.firstLastButton?n("a",{class:[e.pageLinkClass,e.firstPageSelected()?e.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:e._s(e.firstButtonText)},on:{click:function(t){e.selectFirstPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.selectFirstPage():null}}}):e._e(),e._v(" "),e.firstPageSelected()&&e.hidePrevNext?e._e():n("a",{class:[e.prevLinkClass,e.firstPageSelected()?e.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:e._s(e.prevText)},on:{click:function(t){e.prevPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.prevPage():null}}}),e._v(" "),e._l(e.pages,(function(t){return[t.breakView?n("a",{class:[e.pageLinkClass,e.breakViewLinkClass,t.disabled?e.disabledClass:""],attrs:{tabindex:"0"}},[e._t("breakViewContent",[e._v(e._s(e.breakViewText))])],2):t.disabled?n("a",{class:[e.pageLinkClass,t.selected?e.activeClass:"",e.disabledClass],attrs:{tabindex:"0"}},[e._v(e._s(t.content))]):n("a",{class:[e.pageLinkClass,t.selected?e.activeClass:""],attrs:{tabindex:"0"},on:{click:function(n){e.handlePageSelected(t.index+1)},keyup:function(n){return"button"in n||!e._k(n.keyCode,"enter",13)?void e.handlePageSelected(t.index+1):null}}},[e._v(e._s(t.content))])]})),e._v(" "),e.lastPageSelected()&&e.hidePrevNext?e._e():n("a",{class:[e.nextLinkClass,e.lastPageSelected()?e.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:e._s(e.nextText)},on:{click:function(t){e.nextPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.nextPage():null}}}),e._v(" "),e.firstLastButton?n("a",{class:[e.pageLinkClass,e.lastPageSelected()?e.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:e._s(e.lastButtonText)},on:{click:function(t){e.selectLastPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.selectLastPage():null}}}):e._e()],2):n("ul",{class:e.containerClass},[e.firstLastButton?n("li",{class:[e.pageClass,e.firstPageSelected()?e.disabledClass:""]},[n("a",{class:e.pageLinkClass,attrs:{tabindex:e.firstPageSelected()?-1:0},domProps:{innerHTML:e._s(e.firstButtonText)},on:{click:function(t){e.selectFirstPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.selectFirstPage():null}}})]):e._e(),e._v(" "),e.firstPageSelected()&&e.hidePrevNext?e._e():n("li",{class:[e.prevClass,e.firstPageSelected()?e.disabledClass:""]},[n("a",{class:e.prevLinkClass,attrs:{tabindex:e.firstPageSelected()?-1:0},domProps:{innerHTML:e._s(e.prevText)},on:{click:function(t){e.prevPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.prevPage():null}}})]),e._v(" "),e._l(e.pages,(function(t){return n("li",{class:[e.pageClass,t.selected?e.activeClass:"",t.disabled?e.disabledClass:"",t.breakView?e.breakViewClass:""]},[t.breakView?n("a",{class:[e.pageLinkClass,e.breakViewLinkClass],attrs:{tabindex:"0"}},[e._t("breakViewContent",[e._v(e._s(e.breakViewText))])],2):t.disabled?n("a",{class:e.pageLinkClass,attrs:{tabindex:"0"}},[e._v(e._s(t.content))]):n("a",{class:e.pageLinkClass,attrs:{tabindex:"0"},on:{click:function(n){e.handlePageSelected(t.index+1)},keyup:function(n){return"button"in n||!e._k(n.keyCode,"enter",13)?void e.handlePageSelected(t.index+1):null}}},[e._v(e._s(t.content))])])})),e._v(" "),e.lastPageSelected()&&e.hidePrevNext?e._e():n("li",{class:[e.nextClass,e.lastPageSelected()?e.disabledClass:""]},[n("a",{class:e.nextLinkClass,attrs:{tabindex:e.lastPageSelected()?-1:0},domProps:{innerHTML:e._s(e.nextText)},on:{click:function(t){e.nextPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.nextPage():null}}})]),e._v(" "),e.firstLastButton?n("li",{class:[e.pageClass,e.lastPageSelected()?e.disabledClass:""]},[n("a",{class:e.pageLinkClass,attrs:{tabindex:e.lastPageSelected()?-1:0},domProps:{innerHTML:e._s(e.lastButtonText)},on:{click:function(t){e.selectLastPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.selectLastPage():null}}})]):e._e()],2)},staticRenderFns:[]}}])}))},a3ec:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-card",{staticClass:"col-12",attrs:{"no-body":""}},[n("b-row",{staticClass:"mt-3 print__action"},[n("b-col",{staticClass:"my-1",attrs:{md:"12"}},[n("b-form-group",{staticClass:"mb-0",attrs:{horizontal:"",label:"Date from"}},[n("b-input-group",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.fromDate,expression:"fromDate"}],staticClass:"form-control",attrs:{name:"from_date",type:"date"},domProps:{value:e.fromDate},on:{input:function(t){t.target.composing||(e.fromDate=t.target.value)}}}),n("label",{attrs:{for:"ee"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.toDate,expression:"toDate"}],staticClass:"form-control",attrs:{name:"to_date",type:"date"},domProps:{value:e.toDate},on:{input:function(t){t.target.composing||(e.toDate=t.target.value)}}})])],1)],1)],1),n("b-row",{staticClass:"mt-3 mb-3 print__action"},[n("b-col",{staticClass:"my-1",attrs:{md:"12"}},[n("b-form-group",{staticClass:"mb-0",attrs:{horizontal:"",label:"Number of Results"}},[n("b-form-select",{attrs:{options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),n("b-col",{staticClass:"my-2",attrs:{md:"12",sm:"12"}},[n("b-form-group",{staticClass:"mb-0",attrs:{horizontal:"",label:"Data type"}},[n("b-input-group",[n("b-form-select",{model:{value:e.sortByModel,callback:function(t){e.sortByModel=t},expression:"sortByModel"}},[n("option",{domProps:{value:"invoices"}},[e._v("Invoices")]),n("option",{domProps:{value:"rewards"}},[e._v("Rewards")])])],1)],1)],1),"rewards"===e.sortByModel?n("b-col",{staticClass:"my-2",attrs:{md:"12",sm:"12"}},[n("b-form-group",{staticClass:"mb-0",attrs:{horizontal:"",label:"Filter by User"}},[n("users-select",{attrs:{isInput:!0},on:{"item-selected":function(t){return e.selectedUsername=t}}})],1),n("b-form-group",{staticClass:"mt-3",attrs:{horizontal:"",label:"Select Reward Types"}},[n("v-select",{attrs:{multiple:"",options:["incentive","direct","binary","residual","career"]},model:{value:e.selectedRewardTypes,callback:function(t){e.selectedRewardTypes=t},expression:"selectedRewardTypes"}})],1)],1):e._e(),n("b-col",{attrs:{md:"12",sm:"12"}},[n("b-form-group",{staticClass:"col-6 float-right mt-3",attrs:{horizontal:""}},[n("b-input-group",[e.loading?n("loading-button"):n("button",{staticClass:"btn btn-secondary btn-block text-black",attrs:{disabled:!e.fromDate||!e.toDate},on:{click:function(t){return e.printTable(!0,"none")}}},[e._v(" Print "),n("i",{staticClass:"fa fa-print"})]),e.loading?n("loading-button"):n("button",{staticClass:"btn btn-secondary btn-block",attrs:{disabled:!e.fromDate||!e.toDate},on:{click:function(t){return e.$refs.child.csvExport()}}},[e._v(" Export CSV ")]),e.loading?n("loading-button"):n("button",{staticClass:"btn btn-success btn-block",attrs:{disabled:!e.fromDate||!e.toDate},on:{click:function(t){return e.$refs.child.listReports()}}},[e._v(" Search Now "),n("i",{staticClass:"fa fa-search"})])],1)],1)],1)],1),n(e.currentComponent,{ref:"child",tag:"component",attrs:{"per-page":e.perPage,"to-date":e.toDate,"from-date":e.fromDate,"selected-username":e.selectedUsername,"selected-reward-types":e.selectedRewardTypes},on:{"component-loading":function(t){return e.loading=t}}})],1)],1)},s=[],r=n("a026"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.items.length>0?[e.loading?e._e():n("b-table",{staticClass:"mt-3",attrs:{hover:e.hover,striped:e.striped,bordered:e.bordered,small:e.small,fixed:e.fixed,responsive:"",items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection,id:"invoices-table"},on:{filtered:e.onFiltered,"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"cell(username)",fn:function(t){return[e._v(e._s(t.item.user.username?t.item.user.username:void 0))]}},{key:"cell(name)",fn:function(t){return[e._v(e._s(t.item.user.name?t.item.user.name:void 0))]}},{key:"cell(last_name)",fn:function(t){return[e._v(e._s(t.item.user.last_name?t.item.user.last_name:void 0))]}},{key:"cell(address)",fn:function(t){return[e._v(e._s(t.item.user.address?t.item.user.address:void 0))]}},{key:"cell(country)",fn:function(t){return[e._v(e._s(t.item.user.country?t.item.user.country:void 0))]}},{key:"cell(city)",fn:function(t){return[e._v(e._s(t.item.user.city?t.item.user.city:void 0))]}},{key:"cell(document)",fn:function(t){return[e._v(e._s(t.item.user.document?t.item.user.document:void 0)+" ")]}},{key:"cell(email)",fn:function(t){return[e._v(e._s(t.item.user.email?t.item.user.email:void 0))]}},{key:"cell(phone)",fn:function(t){return[e._v(e._s(t.item.user.phone?t.item.user.phone:void 0))]}},{key:"cell(value)",fn:function(t){return[n("p",[e._v("$"+e._s(t.item.plan.price)+" USD")])]}},{key:"cell(fees)",fn:function(t){return[n("p",[e._v("$"+e._s(t.item.plan.fees)+" USD")])]}},{key:"cell(plan_name)",fn:function(t){return[n("p",[e._v(e._s(t.item.plan.name)+" USD")])]}},{key:"cell(currency)",fn:function(t){return[n("p",[e._v(e._s(t.item.currency.name))])]}},{key:"cell(txid)",fn:function(t){return[n("p",[e._v(e._s(t.item.txid))])]}},{key:"cell(wallet)",fn:function(t){return[n("p",[e._v(e._s(t.item.wallet))])]}},{key:"cell(corp_activation)",fn:function(t){return[t.item.corp_activation?n("span",{staticClass:"badge badge-success"},[e._v("âœ“")]):e._e()]}}],null,!1,1302099256)}),n("nav",{staticClass:"print-action-invoices"},[n("paginate",{attrs:{"page-count":e.pageCount,"page-range":3,"click-handler":e.nextPageCall,"prev-text":"Prev","next-text":"Next","container-class":"pagination b-pagination pagination-md","prev-class":"page-item","prev-link-class":"page-link","next-class":"page-item","next-link-class":"page-link","page-class":"page-item","page-link-class":"page-link"}})],1)]:e._e()],2)},i=[],l=(n("ac6a"),n("c5f6"),n("8832")),c=n.n(l),u=(n("2ef0"),n("beb1"),{name:"invoices-report",props:{hover:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},bordered:{type:Boolean,default:!0},small:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},perPage:{type:Number,default:0},fromDate:{type:String,default:""},toDate:{type:String,default:""},selectedUsername:{type:String,default:""}},components:{Paginate:c.a},watch:{loading:function(e){this.$emit("component-loading",e)}},computed:{sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},data:function(){return{items:[],fields:[{key:"id",sortable:!0,label:"ID"},{key:"username",sortable:!0,label:"username"},{key:"value",sortable:!0,label:"value"},{key:"fees",sortable:!0,label:"fees"},{key:"total_crypto",sortable:!0,label:"total crypto"},{key:"plan_name",sortable:!0,label:"plan name"},{key:"currency",sortable:!0,label:"currency"},{key:"corp_activation",sortable:!0,label:"corp activation",tdClass:"text-center"},{key:"txid",sortable:!0,label:"txid"},{key:"wallet",sortable:!0,label:"wallet"},{key:"name",sortable:!0,label:"name"},{key:"last_name",sortable:!0,label:"last name"},{key:"email",sortable:!0,label:"email"},{key:"document",sortable:!0,label:"document"},{key:"country",sortable:!0,label:"country"},{key:"city",sortable:!0,label:"city"},{key:"address",sortable:!0,label:"address"},{key:"phone",sortable:!0,label:"phone"},{key:"payment_confirmed_at",sortable:!0,label:"payment confirmed at"},{key:"created_at",sortable:!0,label:"created at"}],currentPage:1,totalItems:0,pageCount:1,totalRows:0,loaders:{},show:!0,loading:!1,filter:null,pageOptions:[5,10,15,20,25,30,40,50,100,250,500,1e3],sortBy:null,sortDesc:!1,sortDirection:"asc"}},created:function(){var e=this;window.onafterprint=function(){e.printTable(!1,"")}},methods:{nextPageCall:function(e){this.listReports(e)},printTable:function(e,t){var n=document.getElementsByClassName("print-action-invoices");Array.prototype.forEach.call(n,(function(e){e.style.display=t})),e&&window.print()},listReports:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0;var n="";this.fromDate&&this.toDate&&(n="&from_date=".concat(this.fromDate,"&to_date=").concat(this.toDate)),this.$http("/api/v1/admin/reports/users?per_page="+this.perPage+"&page="+t+n,{headers:{"content-type":"application/json",Authorization:this.$store.getters.authToken}}).then((function(t){e.items=t.data,e.pageCount=Math.ceil(parseFloat(t.headers["per-page-total"]/parseInt(t.headers["per-page"]))),e.loading=!1})).catch((function(t){t.response.data.map((function(t){e.$toasted.show(t,{position:"top-right",duration:5e3,type:"error",closeOnSwipe:!0}),e.loading=!1}))}))},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},csvExport:function(){$("#invoices-table").table2csv()}}}),d=u,p=n("2877"),f=Object(p["a"])(d,o,i,!1,null,null,null),m=f.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("h3",[e._v("Total: $"+e._s(e.totalRewards))]),n("h5",{staticClass:"text-muted"},[e._v("From: "+e._s(e.fromDate)+" To: "+e._s(e.toDate))])])]),e.items.length>0?[n("b-table",{staticClass:"mt-3",attrs:{hover:e.hover,striped:e.striped,bordered:e.bordered,small:e.small,fixed:e.fixed,responsive:"",items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection,id:"rewards-table"},on:{filtered:e.onFiltered,"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"cell(referred_user)",fn:function(t){return[e._v(e._s(t.item.referred_user?t.item.referred_user:""))]}}],null,!1,327720245)})]:e._e()],2)},b=[],h=(n("6b54"),{name:"invoices-report",props:{hover:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},bordered:{type:Boolean,default:!0},small:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},fromDate:{type:String,default:""},toDate:{type:String,default:""},selectedUsername:{type:String,default:""},selectedRewardTypes:{type:Array,default:""}},components:{Paginate:c.a},watch:{loading:function(e){this.$emit("component-loading",e)}},computed:{propDateRange:function(){return this.fromDate&&this.toDate?"&from_date=".concat(this.fromDate,"&to_date=").concat(this.toDate):""},propUsername:function(){return this.selectedUsername?"&username=".concat(this.selectedUsername):""},propRewardTypes:function(){return this.selectedRewardTypes.length>0?"&reward_types=".concat(this.selectedRewardTypes.toString()):""}},data:function(){return{items:[],fields:[{key:"id",sortable:!0,label:"ID"},{key:"value",sortable:!0,label:"value"},{key:"reward_type",sortable:!0,label:"reward_type"},{key:"reward_status",sortable:!0,label:"reward_status"},{key:"referred_user",sortable:!0,label:"referred_user"},{key:"redeemed_binary_points",sortable:!0,label:"redeemed_binary_points",tdClass:"text-center"},{key:"created_at",sortable:!0,label:"created_at"}],currentPage:1,totalItems:0,pageCount:1,totalRows:0,loading:!1,filter:null,pageOptions:[5,10,15,20,25,30,40,50,100,250,500,1e3],sortBy:null,sortDesc:!1,sortDirection:"asc",perPage:1e7,totalRewards:0}},created:function(){var e=this;window.onafterprint=function(){e.printTable(!1,"")}},methods:{nextPageCall:function(e){this.listReports(e)},printTable:function(e,t){var n=document.getElementsByClassName("print-action-invoices");Array.prototype.forEach.call(n,(function(e){e.style.display=t})),e&&window.print()},listReports:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,this.$http("/api/v1/admin/reports/rewards?per_page="+this.perPage+"&page="+t+this.propDateRange+this.propUsername+this.propRewardTypes,{headers:{"content-type":"application/json",Authorization:this.$store.getters.authToken}}).then((function(t){e.items=t.data,e.totalRewards=t.data.length>0&&e.propUsername&&t.data[0].total||t.data.total||0,e.pageCount=Math.ceil(parseFloat(t.headers["per-page-total"]/parseInt(t.headers["per-page"]))),e.loading=!1})).catch((function(t){console.log(t),t.response.data.map((function(t){e.$toasted.show(t,{position:"top-right",duration:5e3,type:"error",closeOnSwipe:!0}),e.loading=!1}))}))},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},csvExport:function(){$("#rewards-table").table2csv()}}}),v=h,y=Object(p["a"])(v,g,b,!1,null,null,null),_=y.exports,k=n("6711"),C=n("b206");r["default"].component("loading-button",{template:'<button class="btn btn-secondary btn-block" disabled>Loading <i class="fa fa-circle-o-notch fa-spin"></i></button>'});var x={name:"reports",computed:{currentComponent:function(){return"invoices"===this.sortByModel?"invoices-report":"rewards-report"}},components:{"invoices-report":m,"rewards-report":_,"v-select":C["a"],UsersSelect:k["a"]},data:function(){return{toDate:null,fromDate:null,perPage:25,pageOptions:[5,10,15,20,25,30,40,50,100,250,500,1e3],sortByModel:"invoices",selectedUsername:"",selectedRewardTypes:[],loading:!1}}},w=x,P=(n("7e3e"),Object(p["a"])(w,a,s,!1,null,null,null));t["default"]=P.exports},b6cc:function(e,t,n){},beb1:function(e,t){(function(e){"use strict";const t={filename:"table.csv",appendTo:"body",separator:",",newline:"\n",quoteFields:!0,trimContent:!0,excludeColumns:"",excludeRows:""};let n={};function a(e){return'"'+e.replace(/"/g,'""')+'"'}function s(e,t){const n=document.createElement("a");n.setAttribute("href","data:text/csv;charset=utf-8,\ufeff"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function r(t){let s="";const r=t.find("tr").not(n.excludeRows),o=r.first().find("td,th").filter(":visible").not(n.excludeColumns).length;return r.each((function(t,r){e(r).find("td,th").filter(":visible").not(n.excludeColumns).each((function(t,r){const i=e(r),l=n.trimContent?e.trim(i.text()):i.text();s+=n.quoteFields?a(l):l,s+=t!==o-1?n.separator:n.newline}))})),s}e.fn.table2csv=function(a,o){if("object"===typeof a?(o=a,a="download"):void 0===a&&(a="download"),"string"!==typeof a)throw new Error('"action" argument must be a string');if(void 0!==o&&"object"!==typeof o)throw new Error('"options" argument must be an object');n=e.extend({},t,o);const i=this.filter("table");if(i.length<=0)throw new Error("table2csv must be called on a <table> element");if(i.length>1)throw new Error("converting multiple table elements at once is not supported yet");let l=r(i);switch(a){case"download":s(n.filename,l);break;case"output":e(n.appendTo).append(e("<pre>").text(l));break;case"return":return l;default:throw new Error('"action" argument must be one of the supported action strings')}return this}})(jQuery)}}]);
//# sourceMappingURL=chunk-e52de7ac.23eac911.js.map