(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c0f08ea"],{6779:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",{staticClass:"nav nav-tabs nav-fill"},[o("li",{staticClass:"nav-item"},[o("a",{staticClass:"nav-link",class:{active:"list"===t.activeList},attrs:{href:"#/media/list",target:"_self"}},[t._v(" All "),o("i",{staticClass:"icon-options-vertical"})])]),o("li",{staticClass:"nav-item"},[o("a",{staticClass:"nav-link",class:{active:"new"===t.activeList},attrs:{href:"#/media/new",target:"_self"}},[t._v(" New "),o("i",{staticClass:"icon-options-vertical"})])]),t.activeEdit?o("li",{staticClass:"nav-item"},[o("a",{staticClass:"nav-link",class:{active:!0===t.activeEdit},attrs:{href:"#/tickets/list?status=closed",target:"_self"}},[t._v(" Edit "),o("i",{staticClass:"icon-cloud-upload"})])]):t._e()])},r=[],i={props:{activeList:{type:String},activeNew:{type:Boolean},activeEdit:{type:Boolean}},name:"NavTop"},s=i,l=o("2877"),n=Object(l["a"])(s,a,r,!1,null,null,null);e["a"]=n.exports},"80e2":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[this.edit_mode?t._e():o("top-nav",{attrs:{activeNew:!0}}),this.edit_mode?o("top-nav",{attrs:{activeEdit:!0}}):t._e(),o("b-card",{staticStyle:{"border-top":"none"},attrs:{"no-body":""}},[o("b-card-body",[o("form",{on:{submit:t.createTool}},[o("b-row",[o("b-form-group",{staticClass:"col-8",attrs:{label:"Title","label-for":"elementsAppend"}},[o("b-input-group",[o("b-form-input",{attrs:{required:"",type:"text"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1),o("b-form-group",{staticClass:"col-4",attrs:{label:"Tool Type","label-for":"elementsAppend"}},[o("b-form-select",{staticClass:"is-valid",attrs:{required:""},model:{value:t.form.category,callback:function(e){t.$set(t.form,"category",e)},expression:"form.category"}},[o("option",{attrs:{value:"",selected:""}},[t._v("---")]),o("option",{attrs:{value:"link"}},[t._v("Link")]),o("option",{attrs:{value:"document"}},[t._v("Document")]),o("option",{attrs:{value:"video"}},[t._v("HFS ACADEMY")]),o("option",{attrs:{value:"post"}},[t._v("Post")]),o("option",{attrs:{value:"flayer"}},[t._v("Flayer")])])],1)],1),o("b-row",[o("b-form-group",{staticClass:"col-12",attrs:{label:"Post/new","label-for":"elementsAppend"}},["post"==t.form.category?o("div",[o("b-input-group",[o("vue-trix",{staticClass:"col-12",attrs:{rows:"6",placeholder:"Enter content",localStorage:""},model:{value:t.form.resource,callback:function(e){t.$set(t.form,"resource",e)},expression:"form.resource"}})],1)],1):t._e(),"link"==t.form.category?o("div",[o("b-input-group",[o("b-form-input",{attrs:{type:"text"},model:{value:t.form.resource,callback:function(e){t.$set(t.form,"resource",e)},expression:"form.resource"}})],1)],1):t._e(),"document"==t.form.category||"flayer"==t.form.category?o("div",[o("b-input-group",[o("b-form-file",{attrs:{placeholder:"Choose a file...",id:"toolDocument",type:"file",required:""},model:{value:t.form.resource,callback:function(e){t.$set(t.form,"resource",e)},expression:"form.resource"}})],1)],1):t._e(),"video"==t.form.category?o("div",[o("b-input-group",[o("b-form-textarea",{staticClass:"mb-3",attrs:{id:"textarea",placeholder:"Enter iframe code..",rows:"5","max-rows":"6"},model:{value:t.form.resource,callback:function(e){t.$set(t.form,"resource",e)},expression:"form.resource"}})],1),o("small",[t._v("Iframe Example:")]),o("br"),o("code",[t._v('<iframe src="https://www.youtube.com/embed/J0cWxtkiB20?list=PLdoh5VD8MSWudyWQTbxwOzjz6gEMlJN5s" frameborder="0" style="position:absolute;top:0;left:0;width:100%;height:100%;" allowfullscreen></iframe>')])],1):t._e(),"document"==t.form.category||"flayer"==t.form.category?o("div",[o("b-input-group",[o("a",{attrs:{href:t.form.link_resource,target:"_blank"}},[t._v("View document")])])],1):t._e()])],1),"post"==t.form.category?o("b-row",[o("b-form-group",{staticClass:"col-12",attrs:{label:"Post file","label-for":"elementsAppend"}},[o("b-input-group",[o("b-form-file",{attrs:{placeholder:"Choose a file...",id:"toolDocument",type:"file"},model:{value:t.form.post_file,callback:function(e){t.$set(t.form,"post_file",e)},expression:"form.post_file"}})],1),o("b-input-group",[o("a",{attrs:{href:t.form.link_resource,target:"_blank"}},[t._v("View document")])])],1)],1):t._e(),"document"==t.form.category?o("b-row",[o("b-form-group",{staticClass:"col-12",attrs:{label:"Preview","label-for":"elementsAppend"}},[o("b-input-group",[o("b-form-file",{attrs:{placeholder:"Choose a file...",id:"toolDocumentPreview",type:"file"},model:{value:t.form.preview_file,callback:function(e){t.$set(t.form,"preview_file",e)},expression:"form.preview_file"}})],1),o("b-input-group",[o("a",{attrs:{href:t.form.preview_url,target:"_blank"}},[t._v("View preview")])])],1)],1):t._e(),o("hr"),o("div",{staticClass:"form-actions"},[this.edit_mode?o("div",[t.loading?t._e():o("b-button",{attrs:{type:"submit",variant:"primary mr-2"}},[t._v(" Save changes "),o("i",{staticClass:"icon-cloud-upload"})]),t.loading?o("b-button",{attrs:{variant:"primary mr-2",disabled:""}},[t._v(" Loading "),o("i",{staticClass:"fa fa-spinner fa-spin"})]):t._e(),o("b-button",{attrs:{type:"button",variant:"danger",disabled:""}},[t._v("Delete")])],1):o("div",[t.loading?t._e():o("b-button",{attrs:{type:"submit",variant:"warning mr-2"}},[t._v("Create Now!")]),t.loading?o("b-button",{attrs:{variant:"warning mr-2",disabled:""}},[t._v(" Loading "),o("i",{staticClass:"fa fa-spinner fa-spin"})]):t._e(),o("b-button",{attrs:{type:"button",variant:"secondary"},on:{click:t.reset}},[t._v("Reset")])],1)])],1)])],1)],1)},r=[],i=o("6779"),s=(o("56d7"),o("2ef0"),o("ff0b")),l={name:"InventoryNew",components:{"top-nav":i["a"],"vue-trix":s["a"]},data:function(){return{tool_uuid:!1,edit_mode:!1,loading:!1,form:{}}},created:function(){this.$route.params.uuid&&(this.edit_mode=!0,this.tool_uuid=this.$route.params.uuid,this.fetchTool(this.$route.params.uuid))},methods:{fetchTool:function(t){var e=this;this.loading=!0,this.$http("/api/v1/admin/tools/".concat(t),{headers:{"content-type":"application/json",Authorization:this.$store.getters.authToken}}).then((function(t){e.form=t.data,e.loading=!1})).catch((function(t){console.log(t.response),e.loading=!1}))},createTool:function(t){var e,o=this;t.preventDefault();var a=this.edit_mode?"PUT":"POST";this.edit_mode||(e="/api/v1/admin/tools"),this.edit_mode&&(e="/api/v1/admin/tools/".concat(this.form.id)),this.loading=!0;var r=new FormData;r.append("title",this.form.title),r.append("category",this.form.category),r.append("resource",this.form.resource),document.getElementById("toolDocument")&&document.getElementById("toolDocument").files.length>0&&r.append("file",document.getElementById("toolDocument").files[0]),document.getElementById("toolDocumentPreview")&&document.getElementById("toolDocumentPreview").files.length>0&&r.append("preview_file",document.getElementById("toolDocumentPreview").files[0]),this.$http({url:e,data:r,method:a,headers:{"content-type":"multipart/form-data",Authorization:this.$store.getters.authToken}}).then((function(t){var e=o.edit_mode?"Tool successfully updated":"Tool successfully created";o.$toasted.show(e,{position:"top-right",duration:5e3,type:"default",closeOnSwipe:!0}),o.edit_mode||o.reset(),o.loading=!1})).catch((function(t){t.response.data.map((function(t){o.$toasted.show(t,{position:"top-right",duration:5e3,type:"error",closeOnSwipe:!0}),o.loading=!1}))}))},reset:function(){this.form={publish:!0}}}},n=l,c=o("2877"),u=Object(c["a"])(n,a,r,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-0c0f08ea.0ced0782.js.map