{"version":3,"sources":["webpack:///./src/shared/views/Subscriptions/Edit/index.vue?68bc","webpack:///src/shared/views/Subscriptions/Edit/index.vue","webpack:///./src/shared/views/Subscriptions/Edit/index.vue?b991","webpack:///./src/shared/views/Subscriptions/Edit/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","createSubscription","_v","_e","loading","directives","name","rawName","value","form","expression","domProps","$event","target","composing","$set","model","callback","$$v","Array","isArray","payments_enabled","_i","$$a","$$el","$$c","checked","$$i","concat","slice","big_pro_account","staticRenderFns","components","data","tool_uuid","edit_mode","created","$route","params","uuid","fetchSubscription","methods","$http","headers","Authorization","$store","getters","authToken","evt","preventDefault","url","append","subscription_status","expiration_date","method","reset","publish","component"],"mappings":"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","file":"js/chunk-2d213ddf.5e1dcd90.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-card',{staticClass:\"col-12\",attrs:{\"no-body\":\"\"}},[_c('form',{on:{\"submit\":_vm.createSubscription}},[(_vm.loading)?_c('div',{staticClass:\"text-center mt-5 mb-5\"},[_c('i',{staticClass:\"fa fa-circle-o-notch fa-spin fa-fw view__loader fa-lg\"}),_c('br'),_vm._v(\"loading \")]):_vm._e(),(!_vm.loading)?_c('b-row',{staticClass:\"mt-3 print__action\"},[_c('b-col',{staticClass:\"my-1\",attrs:{\"md\":\"12\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"horizontal\":\"\",\"label\":\"Expiration\"}},[_c('b-input-group',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.expiration_date),expression:\"form.expiration_date\"}],staticClass:\"form-control\",attrs:{\"name\":\"expiration_date\",\"type\":\"date\"},domProps:{\"value\":(_vm.form.expiration_date)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"expiration_date\", $event.target.value)}}})])],1)],1)],1):_vm._e(),(!_vm.loading)?_c('b-row',{staticClass:\"mt-3 mb-3 print__action\"},[_c('b-col',{staticClass:\"my-2\",attrs:{\"md\":\"12\",\"sm\":\"12\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"horizontal\":\"\",\"label\":\"Status\"}},[_c('b-input-group',[_c('b-form-select',{model:{value:(_vm.form.subscription_status),callback:function ($$v) {_vm.$set(_vm.form, \"subscription_status\", $$v)},expression:\"form.subscription_status\"}},[_c('option',{domProps:{\"value\":'active'}},[_vm._v(\"Active\")]),_c('option',{domProps:{\"value\":'expired'}},[_vm._v(\"Expired\")]),_c('option',{domProps:{\"value\":'cancelled'}},[_vm._v(\"Cancelled\")])])],1)],1)],1)],1):_vm._e(),_c('b-row',[_c('b-form-group',{staticClass:\"col-4\",attrs:{\"label-sr-only\":\"\"}},[_c('b-form-checkbox-group',{attrs:{\"stacked\":\"\"}},[_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.payments_enabled),expression:\"form.payments_enabled\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":\"withdrawals_enabled\"},domProps:{\"checked\":Array.isArray(_vm.form.payments_enabled)?_vm._i(_vm.form.payments_enabled,null)>-1:(_vm.form.payments_enabled)},on:{\"change\":function($event){var $$a=_vm.form.payments_enabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.form, \"payments_enabled\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.form, \"payments_enabled\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.form, \"payments_enabled\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"withdrawals_enabled\"}},[_vm._v(\"Payments enabled\")])])])],1),_c('b-form-group',{staticClass:\"col-4\",attrs:{\"label-sr-only\":\"\"}},[_c('b-form-checkbox-group',{attrs:{\"stacked\":\"\"}},[_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.big_pro_account),expression:\"form.big_pro_account\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":\"incentive_rewards_enabled\"},domProps:{\"checked\":Array.isArray(_vm.form.big_pro_account)?_vm._i(_vm.form.big_pro_account,null)>-1:(_vm.form.big_pro_account)},on:{\"change\":function($event){var $$a=_vm.form.big_pro_account,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.form, \"big_pro_account\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.form, \"big_pro_account\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.form, \"big_pro_account\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"incentive_rewards_enabled\"}},[_vm._v(\"Big Pro Account\")])])])],1),_c('b-col',{attrs:{\"md\":\"12\",\"sm\":\"12\"}},[_c('b-form-group',{staticClass:\"col-6 float-right mt-3\",attrs:{\"horizontal\":\"\"}},[_c('b-input-group',[_c('button',{staticClass:\"btn btn-warning btn-block\"},[_vm._v(\"Update\")])])],1)],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-card no-body class=\"col-12\">\n      <form @submit=\"createSubscription\">\n        <div v-if=\"loading\" class=\"text-center mt-5 mb-5\">\n          <i class=\"fa fa-circle-o-notch fa-spin fa-fw view__loader fa-lg\"></i>\n          <br />loading\n        </div>\n\n        <b-row class=\"mt-3 print__action\" v-if=\"!loading\">\n          <b-col md=\"12\" class=\"my-1\">\n            <b-form-group horizontal label=\"Expiration\" class=\"mb-0\">\n              <b-input-group>\n                <input\n                  name=\"expiration_date\"\n                  type=\"date\"\n                  class=\"form-control\"\n                  v-model=\"form.expiration_date\"\n                />\n              </b-input-group>\n            </b-form-group>\n          </b-col>\n        </b-row>\n\n        <b-row class=\"mt-3 mb-3 print__action\" v-if=\"!loading\">\n          <b-col md=\"12\" sm=\"12\" class=\"my-2\">\n            <b-form-group horizontal label=\"Status\" class=\"mb-0\">\n              <b-input-group>\n                <b-form-select v-model=\"form.subscription_status\">\n                  <option :value=\"'active'\">Active</option>\n                  <option :value=\"'expired'\">Expired</option>\n                  <option :value=\"'cancelled'\">Cancelled</option>\n                </b-form-select>\n              </b-input-group>\n            </b-form-group>\n          </b-col>\n        </b-row>\n\n        <b-row>\n          <b-form-group class=\"col-4\" label-sr-only>\n            <b-form-checkbox-group stacked>\n              <div class=\"custom-control custom-checkbox\">\n                <input\n                  type=\"checkbox\"\n                  class=\"custom-control-input\"\n                  id=\"withdrawals_enabled\"\n                  v-model=\"form.payments_enabled\"\n                />\n                <label class=\"custom-control-label\" for=\"withdrawals_enabled\">Payments enabled</label>\n              </div>\n            </b-form-checkbox-group>\n          </b-form-group>\n\n          <b-form-group class=\"col-4\" label-sr-only>\n            <b-form-checkbox-group stacked>\n              <div class=\"custom-control custom-checkbox\">\n                <input\n                  type=\"checkbox\"\n                  class=\"custom-control-input\"\n                  id=\"incentive_rewards_enabled\"\n                  v-model=\"form.big_pro_account\"\n                />\n                <label class=\"custom-control-label\" for=\"incentive_rewards_enabled\">Big Pro Account</label>\n              </div>\n            </b-form-checkbox-group>\n          </b-form-group>\n\n          <b-col md=\"12\" sm=\"12\">\n            <b-form-group horizontal class=\"col-6 float-right mt-3\">\n              <b-input-group>\n                <button class=\"btn btn-warning btn-block\">Update</button>\n              </b-input-group>\n            </b-form-group>\n          </b-col>\n        </b-row>\n      </form>\n    </b-card>\n  </div>\n</template>\n<script>\nimport { serverBus } from \"@/main\";\nimport Vue from \"vue\";\nimport _ from \"lodash\";\nimport VueTrix from \"vue-trix\";\n\nexport default {\n  name: \"subscriptions-new\",\n  components: {\n    \"vue-trix\": VueTrix\n  },\n\n  data() {\n    return {\n      tool_uuid: false,\n      edit_mode: false,\n      loading: false,\n      form: {}\n    };\n  },\n\n  created() {\n    if (this.$route.params.uuid) {\n      this.edit_mode = true;\n      this.tool_uuid = this.$route.params.uuid;\n      this.fetchSubscription(this.$route.params.uuid);\n    }\n  },\n\n  methods: {\n    fetchSubscription(uuid) {\n      this.loading = true;\n      this.$http(`/api/v1/admin/subscriptions/${uuid}`, {\n        headers: {\n          \"content-type\": \"application/json\",\n          Authorization: this.$store.getters.authToken\n        }\n      })\n        .then(response => {\n          this.form = response.data;\n          this.loading = false;\n        })\n        .catch(error => {\n          console.log(error.response);\n          this.loading = false;\n        });\n    },\n\n    createSubscription(evt) {\n      evt.preventDefault();\n      let url;\n      let method = this.edit_mode ? \"PUT\" : \"POST\";\n      if (!this.edit_mode) url = `/api/v1/admin/subscriptions`;\n      if (this.edit_mode) url = `/api/v1/admin/subscriptions/${this.form.id}`;\n\n      this.loading = true;\n\n      let data = new FormData();\n      data.append(\"subscription_status\", this.form.subscription_status);\n      data.append(\"expiration\", this.form.expiration_date);\n      data.append(\"payments_enabled\", this.form.payments_enabled);\n      data.append(\"big_pro_account\", this.form.big_pro_account);\n\n      this.$http({\n        url: url,\n        data: data,\n        method: method,\n        headers: {\n          \"content-type\": \"application/json\",\n          Authorization: this.$store.getters.authToken\n        }\n      })\n        .then(response => {\n          let msg = this.edit_mode\n            ? \"Subscription successfully updated\"\n            : \"Subscription successfully created\";\n          this.$toasted.show(msg, {\n            position: \"top-right\",\n            duration: 5000,\n            type: \"default\",\n            closeOnSwipe: true\n          });\n          if (!this.edit_mode) this.reset();\n          this.loading = false;\n        })\n        .catch(error => {\n          error.response.data.map(m => {\n            this.$toasted.show(m, {\n              position: \"top-right\",\n              duration: 5000,\n              type: \"error\",\n              closeOnSwipe: true\n            });\n            this.loading = false;\n          });\n        });\n    },\n\n    reset() {\n      this.form = {\n        publish: true\n      };\n    }\n  }\n};\n</script>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=775de71a&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}